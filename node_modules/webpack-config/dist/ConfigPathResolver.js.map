{"version":3,"sources":["../src/ConfigPathResolver.js"],"names":["PATH_RESOLVERS","STRING_RESOLVER","ConfigPathResolver","constructor","stringResolver","pathResolvers","set","from","get","resolve","value","x"],"mappings":";;;;;;;;;;AAAA;;AAGA;;;;AACA;;;;;;AAEA;;;;AAIA,MAAMA,iBAAiB,uBAAvB;;AAEA;;;;AAIA,MAAMC,kBAAkB,uBAAxB;;AAEA;;;AAGA,MAAMC,kBAAN,CAAyB;AACrB;;;;;AAKAC,cAAYC,cAAZ,EAA4BC,6CAA5B,EAA+D;AAC3DJ,oBAAgBK,GAAhB,CAAoB,IAApB,EAA0BF,cAA1B;AACAJ,mBAAeM,GAAf,CAAmB,IAAnB,EAAyB,6BAAmBC,IAAnB,CAAwBF,aAAxB,CAAzB;AACH;;AAED;;;;AAIA,MAAID,cAAJ,GAAqB;AACjB,WAAOH,gBAAgBO,GAAhB,CAAoB,IAApB,CAAP;AACH;;AAED;;;;AAIA,MAAIH,aAAJ,GAAoB;AAChB,WAAOL,eAAeQ,GAAf,CAAmB,IAAnB,CAAP;AACH;;AAED;;;;AAIAC,UAAQC,KAAR,EAAe;AACXA,YAAQ,KAAKN,cAAL,CAAoBK,OAApB,CAA4BC,KAA5B,CAAR;;AAEA,WAAO,KAAKL,aAAL,CAAmBI,OAAnB,CAA2BC,KAA3B,EAAkCC,KAAK,sBAASA,CAAT,CAAvC,CAAP;AACH;AAnCoB;;kBAsCVT,kB","file":"ConfigPathResolver.js","sourcesContent":["import {\n    isString\n} from 'lodash';\nimport ConfigStrategyList from './ConfigStrategyList';\nimport DEFAULT_RESOLVERS from './ConfigPathResolvers';\n\n/**\n * @private\n * @type {WeakMap}\n */\nconst PATH_RESOLVERS = new WeakMap();\n\n/**\n * @private\n * @type {WeakMap}\n */\nconst STRING_RESOLVER = new WeakMap();\n\n/**\n * @class\n */\nclass ConfigPathResolver {\n    /**\n     * @constructor\n     * @param {ConfigStringResolver} stringResolver\n     * @param {Function[]} [pathResolvers]\n     */\n    constructor(stringResolver, pathResolvers = DEFAULT_RESOLVERS) {\n        STRING_RESOLVER.set(this, stringResolver);\n        PATH_RESOLVERS.set(this, ConfigStrategyList.from(pathResolvers));\n    }\n\n    /**\n     * @readonly\n     * @type {ConfigStringResolver}\n     */\n    get stringResolver() {\n        return STRING_RESOLVER.get(this);\n    }\n\n    /**\n     * @readonly\n     * @type {ConfigStrategyList}\n     */\n    get pathResolvers() {\n        return PATH_RESOLVERS.get(this);\n    }\n\n    /**\n     * @param {String} value\n     * @returns {String}\n     */\n    resolve(value) {\n        value = this.stringResolver.resolve(value);\n\n        return this.pathResolvers.resolve(value, x => isString(x));\n    }\n}\n\nexport default ConfigPathResolver;\n"]}